<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador 2D de Kimono - FightLab</title>
    <style>
      body { background:#181b1f; color:#fff; font-family:'Segoe UI',Arial,sans-serif; margin:0; }
      .container { max-width:950px; margin:40px auto; display:flex; gap:42px; align-items:center; }
      #preview { width:420px; height:540px; background:#fff; border-radius:16px; box-shadow:0 4px 24px #111; position:relative; }
      .overlay { position:absolute; left:0; top:0; width:100%; height:100%; pointer-events:none; }
      .form { flex:1; background:#222; border-radius:14px; padding:32px 18px; min-width:340px; }
      label { display:block; margin:16px 0 6px 0; font-weight:700; }
      select, input[type=text], button { width:100%; font-size:1.08rem; padding:10px 12px; margin-bottom:10px; border-radius:8px; border:none; background: #333; color: #fff;}
      button { background:#16ff89; color:#181b1f; font-weight:700; cursor:pointer;}
    </style>
  </head>
  <body>
    <h1 style="margin:30px 48px; font-size:2rem; color:#16ff89;">âœ¨ FightLab WOW - Simulador 2D</h1>
    <div class="container">
      <div id="preview">
        <img id="kimonoImg" src="https://fightlab.s3.amazonaws.com/kimono_branco.png" style="width:420px; height:540px;">
        <div class="overlay">
          <img id="patchImg" src="https://fightlab.s3.amazonaws.com/graciebarra_patch.png" style="position:absolute; left:160px; top:140px; width:72px; opacity:0.92; display:none;">
          <span id="faixa" style="position:absolute; width:200px; height:18px; left:110px; top:400px; background:#222; border-radius:10px; opacity:0.94;"> </span>
          <span id="customName" style="position:absolute; left:122px; top:86px; font-size:1.25rem; color:#111; font-weight:800;"></span>
        </div>
      </div>
      <form class="form" oninput="updateKimono()">
        <label for="tipo">Cor do Kimono:</label>
        <select id="tipo">
          <option value="branco">Branco</option>
          <option value="azul">Azul</option>
          <option value="preto">Preto</option>
        </select>
        <label for="faixaSel">Cor da Faixa:</label>
        <select id="faixaSel">
          <option value="#faf6ee">Branca</option>
          <option value="#0ae16f">Verde</option>
          <option value="#0080ff">Azul</option>
          <option value="#d81e5b">Vermelha</option>
          <option value="#111">Preta</option>
        </select>
        <label>
          <input type="checkbox" id="patchChk"> Adicionar patch (logo)
        </label>
        <label for="nome">Nome Personalizado:</label>
        <input type="text" id="nome" placeholder="Ex.: L.Fontes">
        <button type="button" onclick="downloadPng()">Baixar PNG</button>
      </form>
    </div>
    <script>
      function updateKimono() {
        let tipo = document.getElementById('tipo').value;
        let faixaCor = document.getElementById('faixaSel').value;
        let patchOn = document.getElementById('patchChk').checked;
        let nome = document.getElementById('nome').value;
        document.getElementById('kimonoImg').src = tipo === "branco"
          ? "https://fightlab.s3.amazonaws.com/kimono_branco.png"
          : (tipo === "azul"
            ? "https://fightlab.s3.amazonaws.com/kimono_azul.png"
            : "https://fightlab.s3.amazonaws.com/kimono_preto.png");
        document.getElementById('faixa').style.background = faixaCor;
        document.getElementById('patchImg').style.display = patchOn ? "block" : "none";
        document.getElementById('customName').textContent = nome;
      }
      function downloadPng() {
        let preview = document.getElementById('preview');
        html2canvas(preview).then(function(canvas) {
          let link = document.createElement('a');
          link.download = 'kimono-fightlab.png';
          link.href = canvas.toDataURL();
          link.click();
        });
      }
      updateKimono();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  </body>
</html>
