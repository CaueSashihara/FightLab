<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Simulador Fight Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url('https://raw.githubusercontent.com/CaueSashihara/FightLab/main/assets/ChatGPT%20Image%2024%20de%20ago.%20de%202025%2C%2009_05_55.png') center/cover fixed; color: #fff; font-family: 'Segoe UI',Arial,sans-serif; min-height: 100vh; display: flex; flex-direction: column; }
        .navbar { background: rgba(0,0,0,0.95); padding: 12px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .navbar-left { display: flex; align-items: center; gap: 80px; }
        .navbar-logo { height: 45px; }
        .navbar-menu { display: flex; gap: 60px; }
        .navbar-menu a { color: #fff; text-decoration: none; font-size: 0.95rem; font-weight: 500; }
        .navbar-menu a:hover { color: #d02135; }
        .navbar-right { display: flex; gap: 30px; align-items: center; }
        .navbar-socials { display: flex; gap: 15px; }
        .navbar-socials a { color: #fff; font-size: 1.1rem; text-decoration: none; }
        .navbar-socials a:hover { color: #d02135; }
        .container { flex: 1; display: flex; gap: 60px; max-width: 1400px; margin: 40px auto; padding: 0 30px; }
        .form-section { flex: 0 0 380px; background: rgba(26,26,26,0.95); padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: #d02135; font-weight: 600; font-size: 0.95rem; }
        .form-group input, .form-group select { width: 100%; padding: 10px 12px; border: 1px solid #d02135; background: #1a1a1a; color: #fff; border-radius: 4px; font-size: 0.95rem; }
        .form-group input::placeholder { color: #808080; }
        .form-group input:focus, .form-group select:focus { outline: none; box-shadow: 0 0 5px rgba(208,33,53,0.5); }
        .size-controls { display: flex; gap: 10px; align-items: center; margin-top: 8px; }
        .size-btn { background: #d02135; color: #fff; border: none; width: 35px; height: 35px; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 1.1rem; }
        .size-btn:hover { background: #a01829; }
        .size-value { flex: 1; text-align: center; background: #1a1a1a; border: 1px solid #d02135; padding: 8px; border-radius: 4px; color: #fff; font-weight: 600; }
        .preview-section { flex: 1; min-width: 330px; max-width: 600px; }
        .preview-container { position: relative; width: 330px; height: 440px; margin-bottom: 20px; }
        .preview-box { width: 100%; height: 100%; background: rgba(26,26,26,0.95); border: 2px solid #d02135; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.5); position: relative; }
        .preview-box img { width: 100%; height: 100%; object-fit: cover; }
        .embroidery-canvas { position: absolute; top: 0; left: 0; }
        .preview-controls { background: rgba(26,26,26,0.95); border: 2px solid #d02135; border-radius: 8px; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .control-group-title { color: #d02135; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        .checkbox-option { display: flex; align-items: center; gap: 8px; }
        .checkbox-label { display: flex; align-items: center; gap: 8px; cursor: pointer; color: #fff; font-weight: 500; }
        .checkbox-label input[type="checkbox"] { width: 18px; height: 18px; cursor: pointer; accent-color: #d02135; }
        .info-icon { display: inline-flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 50%; background: #d02135; color: #fff; font-size: 12px; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .info-icon:hover { background: #a01829; transform: scale(1.1); }
        .size-guide-table { margin-top: 30px; width: 100%; border-collapse: collapse; background: rgba(26,26,26,0.95); border: 1px solid #d02135; font-size: 0.85rem; }
        .size-guide-table th, .size-guide-table td { padding: 8px; text-align: center; border: 1px solid #333; color: #fff; }
        .size-guide-table th { background: #1a1a1a; color: #d02135; font-weight: 600; }
        .suggested-size { font-size: 1.2rem; font-weight: bold; color: #d02135; margin-top: 10px; padding: 12px; background: #1a1a1a; border: 1px solid #d02135; border-radius: 4px; text-align: center; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .modal-content { background-color: #1a1a1a; padding: 30px; border-radius: 8px; border: 2px solid #d02135; max-width: 500px; width: 90%; color: #fff; box-shadow: 0 4px 20px rgba(0,0,0,0.8); }
        .modal-content h3 { color: #d02135; margin-bottom: 15px; font-size: 1.3rem; }
        .modal-content p { margin-bottom: 15px; line-height: 1.5; }
        .modal-content select, .modal-content input { width: 100%; padding: 10px; margin-bottom: 15px; background: #0a0a0a; color: #fff; border: 1px solid #d02135; border-radius: 4px; }
        .modal-content button { background: #d02135; color: #fff; border: none; padding: 10px 20px; margin-right: 10px; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .modal-content button:hover { background: #a01829; }
        .warning-text { color: #FFD700; font-weight: bold; }
        @media(max-width:1024px) { .container { flex-direction: column; gap: 30px; } .form-section, .preview-section { flex: 1; max-width: 100%; } .preview-container { width: 100%; max-width: 500px; } }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="navbar-left">
            <img src="https://raw.githubusercontent.com/CaueSashihara/FightLab/main/assets/logo.png" class="navbar-logo" alt="Fight Lab">
            <div class="navbar-menu">
                <a href="#">Minha equipe</a>
                <a href="#">Sou Costureira</a>
                <a href="#">Aquecendo Vidas</a>
            </div>
        </div>
        <div class="navbar-right">
            <span class="contact-link">Contato: @fightlab_br</span>
            <div class="navbar-socials">
                <a href="https://wa.me/"><i class="fab fa-whatsapp"></i></a>
                <a href="https://instagram.com/fightlab_br"><i class="fab fa-instagram"></i></a>
                <a href="https://youtube.com/"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="form-section">
            <div class="form-group">
                <label for="genero">Genero:</label>
                <select id="genero" onchange="updatePreview()">
                    <option value="masculino">Masculino</option>
                    <option value="feminino">Feminino</option>
                </select>
            </div>

            <div class="form-group">
                <label for="tipo">Cor do kimono:</label>
                <select id="tipo" onchange="checkBlackKimono()">
                    <option value="branco">Branco</option>
                    <option value="azul">Azul</option>
                    <option value="preto">Preto</option>
                </select>
            </div>

            <div class="form-group">
                <label for="nome">Nome (Bordado na Lapela):</label>
                <input type="text" id="nome" maxlength="10" placeholder="Maximo 10 letras" oninput="updateEmbroidery()">
            </div>

            <div class="form-group">
                <label>Seletor de Tamanho - Altura:</label>
                <div class="size-controls">
                    <button class="size-btn" onclick="decreaseHeight()">âˆ’</button>
                    <div class="size-value" id="heightDisplay">1.70m</div>
                    <button class="size-btn" onclick="increaseHeight()">+</button>
                </div>
            </div>

            <div class="form-group">
                <label>Seletor de Tamanho - Peso:</label>
                <div class="size-controls">
                    <button class="size-btn" onclick="decreaseWeight()">âˆ’</button>
                    <div class="size-value" id="weightDisplay">80kg</div>
                    <button class="size-btn" onclick="increaseWeight()">+</button>
                </div>
            </div>

            <div class="form-group">
                <label>Tamanho Sugerido:</label>
                <div class="suggested-size" id="suggestedSize">A2H</div>
            </div>
        </div>

        <div class="preview-section">
            <div class="preview-container">
                <div class="preview-box">
                    <img id="previewImage" src="https://raw.githubusercontent.com/CaueSashihara/FightLab/main/assets/homem.png" alt="Preview">
                    <canvas id="embroideryCanvas" width="330" height="440"></canvas>
                </div>
            </div>

            <div class="preview-controls">
                <div class="control-group">
                    <div class="control-group-title">OpÃ§Ãµes Adicionais</div>
                    <div class="checkbox-option">
                        <label class="checkbox-label">
                            <input type="checkbox" id="leasingCheckbox" onchange="toggleLeasingModal()">
                            Leasing
                        </label>
                        <span class="info-icon" onclick="showLeasingInfo(event)">â“˜</span>
                    </div>
                    <div class="checkbox-option">
                        <label class="checkbox-label">
                            <input type="checkbox" id="donationCheckbox" onchange="toggleDonationModal()">
                            DoaÃ§Ã£o
                        </label>
                        <span class="info-icon" onclick="showDonationInfo(event)">â“˜</span>
                    </div>
                    <div class="checkbox-option">
                        <label class="checkbox-label">
                            <input type="checkbox" id="patchCheckbox" onchange="togglePatchModal()">
                            Patch Personalizado
                        </label>
                        <span class="info-icon" onclick="showPatchInfo(event)">â“˜</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Leasing Modal -->
    <div id="leasingModal" class="modal">
        <div class="modal-content">
            <h3>Leasing de Kimono</h3>
            <p>Escolha a frequÃªncia de leasing:</p>
            <select id="leasingFrequency">
                <option value="1">1 Kimono por ano</option>
                <option value="2">2 Kimonos por ano</option>
            </select>
            <button onclick="confirmLeasing()">Confirmar</button>
            <button onclick="closeLeasingModal()">Fechar</button>
        </div>
    </div>

    <!-- Donation Modal -->
    <div id="donationModal" class="modal">
        <div class="modal-content">
            <h3>DoaÃ§Ã£o de Kimono</h3>
            <p>Ao doar um kimono em boas condiÃ§Ãµes, vocÃª recebe um abatimento de atÃ© 20% do valor do leasing mediante avaliaÃ§Ã£o.</p>
            <p><strong>ðŸ“¸ Importante:</strong> VocÃª precisarÃ¡ enviar 3 fotos (frente, verso e lapelas) para @fightlab_br no Instagram via DM para validaÃ§Ã£o.</p>
            <input type="file" id="donationPhotos" accept="image/*" multiple placeholder="Selecione as 3 fotos">
            <button onclick="confirmDonation()">Confir
